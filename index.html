<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notion HR App</title>
    <link rel="stylesheet" href="./assets/css/tailwind.min.css">
</head>
<body>

<div id="app" class="flex h-screen overflow-hidden">
    <div id="sidebar" class="w-64 bg-white border-r flex-shrink-0 p-3 overflow-y-auto">
        
        <div id="workspaces-list" class="space-y-1">
            </div>

        <div id="injected-views-container" class="space-y-1 mt-4 p-2 border-t">
            </div>
        
        <button id="add-workspace" onclick="addWorkspace()" 
            class="mt-2 w-full text-left p-2 rounded-lg hover:bg-gray-100 flex items-center gap-3">
            <span class="text-xl">➕</span> Nuevo Espacio
        </button>
    </div>

    <div id="main-content" class="flex-grow flex flex-col overflow-y-auto">
        <header class="bg-white border-b p-4 flex items-center justify-between flex-shrink-0">
            <h1 id="workspace-title" class="text-xl font-bold">Workspace Activo</h1>
            <div id="view-tabs" class="flex items-center space-x-4">
                </div>
            <button id="export-btn" onclick="exportToGist()" class="px-3 py-1 bg-gray-200 rounded text-sm">Exportar</button>
        </header>

        <div id="current-view-container" class="flex-grow p-4 bg-gray-50 overflow-y-auto">
            </div>
    </div>
</div>

<div id="item-modal" class="hidden">
    </div>


<script src="./assets/js/sql-wasm-browser.min.js"></script>
<script src="./assets/js/db-sqlite.js"></script>

<script src="./assets/js/properties.js"></script>
<script src="./assets/js/rules.js"></script>

<script src="./assets/js/views.js"></script> 

<script src="./assets/js/agendaView.js"></script>
<script src="./assets/js/kanbanNative.js"></script>
<script src="./assets/js/menuInject.js"></script>

<script src="./assets/js/zoom.js"></script>
<script src="./assets/js/responsive.js"></script>


<script>
  // Tu código de listeners (sidebar, toggles, etc.) va aquí.
  
  // Llamada al inicio de la aplicación, definida en views.js
  if (typeof initApp === 'function') {
      initApp(); 
  }

  // Registro del Service Worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./sw.js').catch(console.error);
  }
</script>

</body>
</html>
